---
title: "Project"
format: html
editor: visual
---

## File description:

The India Housing Prices Data set contains 2.5 lakh rows and 23 columns, offering detailed insights into housing market trends across various Indian states. It includes attributes related to property types, pricing, location, and amenities, making it suitable for analysis ranging from basic descriptive statistics to advanced machine learning applications.

```{r}
dt = read.csv(file = "D:/MTTS STDSMLAI/Indian_House_Pricing_Project/india_housing_prices.csv", 
              header = TRUE)
#head(dt,n=3)
```

```{r}
dim(dt)
```

```{r}
colnames(dt)
```

## Column Description

Some understanding from our Data set

-   **ID**: Different rows having different Integer values

-   **State**: Name of States of India ( character )

-   **City**: Name of Cities ( character )

-   **Locality**: Name of Localities ( character )

-   **Property_Type**: 3 types of property. ( Apartment, Independent House, Villa )

-   **BHK**: 5 varieties are there. ( 1,2,3,4,5)

-   **Size_in_sqFt**: Plot size in Sqft. ( integer )

-   **Price_in_Lakhs**: House price in Lakhs ( Double )

-   **Price_per_SqFt**: House price per Sqft. ( Double )

-   **Year_Built**: Year of built. ( integer )

-   **Furnished_Status**: Furnished Status ( Furnished, Unfurnished, Semi-furnished )

-   **Floor_No**: Floor No ( Integer )

-   **Total_Floors**: Total floor in the house ( Integer )

-   **Age_of_Property**: Age of property ( Integer )

-   **Nearby_Schools**: No. of nearby schools. ( Integer )

-   **Nearby_Hospitals**: No. of nearby hospital. ( Integer )

-   **Public_Transport_Accessibility**: Chance of getting Public Transportation (High, Low, Medium )

-   **Parking_Space**: Parking Space present or not ( Yes, No )

-   **Security**: ( Yes, No )

-   **Amenities**: Amenities like: Playground, Gym, Pool, etc.

-   **Facing**: House Facing in which Direction ( East, West, South, North )

-   **Owner_Type**: Type of owner ( Owner, Builder, Broker )

-   **Availability_Status**: Status of availability ( Ready_to_move, Under_construction )

```{r}
typeof(dt$Availability_Status)
length(unique(dt$Availability_Status))
```

```{r}
summary(dt$Size_in_SqFt)
```

```{r}
boxplot(dt$Size_in_SqFt,horizontal = TRUE, 
        main = "Size of the Property",
        xlab = "Distribution of Property Sizes",
        ylab = "Size (sq ft)")
hist(dt$Size_in_SqFt, breaks = 30,probability = TRUE,
       main="Distribution of Property Sizes", 
     xlab="Size (sq ft)")
```

```{r}
summary(dt$Price_in_Lakhs)
val = dt$Price_in_Lakhs/10
summary(val)
boxplot(dt$Price_in_Lakhs,horizontal = TRUE, 
        main = "Price of the Property",
        xlab = "Distribution of Property prices",
        ylab = "Price (Lakhs)")
hist(dt$Price_in_Lakhs, breaks = 20,probability = TRUE,
       main="Distribution of Property Prices", 
     xlab="Price (Lakhs)")
```

```{r}
summary(dt$Price_per_SqFt)
boxplot(dt$Price_per_SqFt,horizontal = TRUE,
         main = "Price per SqFt of the Property",
        xlab = "Distribution of Property prices per SqFt",
        ylab = "Price (per SqFt)")
hist( dt$Price_per_SqFt, breaks = 30,
    main="Distribution of Property prices per SqFt", 
    xlab="Price (per SqFt)")
```

-   The data is **positively skewed (right-skewed).**

-   The majority of the property prices are clustered at the lower end of the scale (between 0.0 and 0.2).

-   here is a long tail extending toward the right. This indicates that while most properties are relatively affordable (on this scale), there are a few properties with significantly higher prices per square foot.

## Observation From Data

### Pricing

-   **Price_in_Lakhs = Size_in_SqFt × Price_per_SqFt** + (Some dynamic Charge/ Discount )

```{r}
Price_diff <- dt$Price_in_Lakhs - (dt$Size_in_SqFt * dt$Price_per_SqFt)
typeof(dt$Size_in_SqFt)
pos_price_diff = sum(round(Price_diff,4) > 0.0)
no_price_diff = sum(round(Price_diff,2) == 0.0)
neg_price_diff = sum(round(Price_diff,4) < 0.0)
print((pos_price_diff+no_price_diff+neg_price_diff))
```

50.29% data have more price than the equation.

49.65% data having less price than the equation.

And 0.05% data having exactly same value.

### Locality

```{r}
library(dplyr)
locality_summary <- dt %>%
  group_by(City) %>%
  summarize(
    localities = paste(unique(Locality), collapse = ", "),
    no_localities = length(unique(Locality))
  )
print(locality_summary)

```

After grouping by state and city, By random check i see that Locality_463 is present in Ahmadabad and Bhopal.

Now i do a quick search to find in which cities it is present.

```{r}
dt %>%
  filter(Locality == "Locality_463") %>%
  distinct(City)
```

It gives that it is present under 42 cities.

**Each city has 500 localities .**

```{r}
length(unique(dt$Locality))
```

Also there are 500 localities in total. Then the common guess is that all 500 localities are common in all cities.

### Year Built

```{r}
length(unique(sort(dt$Year_Built)))
summary(dt$Year_Built)
```

### City

```{r}
#State wise city count
City_summary <- dt %>%
  group_by(State) %>%
  summarize(
    Cities = paste(unique(City), collapse = ", "),
    no_cities = length(unique(City))
  )
```

### BHK

```{r}
BHK_summary <- dt %>%
  group_by(State) %>%
  summarize(
    BHKs = paste(unique(BHK), collapse = ", "),
    no_BHK = length(unique(BHK))
  )
```

All States have all type of BHK options.

```{r}
BHK_summary2 <- dt %>%
  group_by(City) %>%
  summarize(
    BHKs = paste(unique(BHK), collapse = ", "),
    no_BHK = length(unique(BHK))
  )
```

Also, all cities have all BHK options.

```{r}
BHK_summary3 <-dt %>%
  group_by(City) %>%
  summarise(count_5bhk = sum(BHK == "5", na.rm = TRUE))
```

### Property

```{r}
#Counting of properties each States have
Property_list = dt %>%
  group_by(City) %>%
  summarise(count_prop = length(unique(ID)))

```

```{r}
#Rechecking the sum of the count column is matching or not!
Property_list %>%
  summarise(across(count_prop, sum, na.rm = TRUE))
```

```{r}
Property_list$City[which.max(Property_list$count_prop)]
```

So, Coimbatore has maximum properties.

```{r}
city_prop_type= dt %>%
  group_by(City) %>%
  summarise(count_prop_type = length(unique(Property_Type)))
```

All cities have all the 3 varieties of property.

```{r}
# Property type wise Average Price
Price_per_prop= aggregate(Price_in_Lakhs ~ Property_Type + Availability_Status, data = dt, FUN = mean)
Price_per_prop
```

```{r}
# Property type wise Average Price per SqFt
Price_per_sqft_prop= aggregate(Price_per_SqFt ~ Property_Type + Availability_Status, data = dt, FUN = median)
Price_per_sqft_prop
```

### Year Wise Price Change Analysis

```{r}
data_1990 = dt[dt$Year_Built == 1990,]
summary(data_1990$Price_in_Lakhs)
hist(data_1990$Price_in_Lakhs,breaks = 30,probability = TRUE,
     main="Distribution of Property prices in 1990", 
    xlab="Price (in Lakhs)")
```

```{r}
data_1991 = dt[dt$Year_Built == 1991,]
summary(data_1991$Price_in_Lakhs)
hist(data_1991$Price_in_Lakhs,breaks = 30,probability = TRUE,
     main="Distribution of Property prices in 1991", 
    xlab="Price (in Lakhs)")

```

-   Kind of same summary are there for these two years.
-   

```{r}
# Calculate the yearly statistics
yearly_mean <- aggregate(Price_in_Lakhs ~ Year_Built, data = dt, FUN = mean)
yearly_min  <- aggregate(Price_in_Lakhs ~ Year_Built, data = dt, FUN = min)
yearly_max  <- aggregate(Price_in_Lakhs ~ Year_Built, data = dt, FUN = max)
yearly_median <- aggregate(Price_in_Lakhs ~ Year_Built, data = dt, FUN = median)
```

-   

    ```{r}
    par(mfrow = c(3, 1), mar = c(4, 4, 2, 1))
    # Create the initial plot with the Max 
    # 1. The Maximum line (Dashed red)
    plot(x = yearly_max$Year_Built, yearly_max$Price_in_Lakhs, 
          type = "o", col = "red", lty = 2, pch = 18,
          xlab = "Year Built", 
         ylab = "Price (in Lakhs)",
         main = "Yearly Price Trends: Max")

    # 2.Add The mean line
    plot(yearly_mean$Year_Built, yearly_mean$Price_in_Lakhs, 
         type = "o", 
         pch = 19,
         col = "darkgreen",
         xlab = "Year Built", 
         ylab = "Price (in Lakhs)",
         main = "Yearly Price Trends: Mean")

    # 3. Add the Minimum line (Dashed blue)
    plot(yearly_min$Year_Built, yearly_min$Price_in_Lakhs, 
          type = "o", col = "blue", lty = 2, pch = 18,
          xlab = "Year Built", 
         ylab = "Price (in Lakhs)",
         main = "Yearly Price Trends: Min")
    ```

-   The Mean price fluctuates within a very narrow band (roughly between **251 and 257 Lakhs**). This tells us that despite individual year-to-year variations, the house price has remained historically stable for over 30 years.

```{r}
d1= dt[which(dt$Availability_Status=="Ready_to_Move"),]
yearly_mean_ready <- aggregate(Price_in_Lakhs ~ Year_Built,data = 
                                 dt[which(dt$Availability_Status  =="Ready_to_Move"), ], FUN = mean)
plot(yearly_mean_ready,  type = "o", 
     pch = 19,
     col = "darkgreen",
     xlab = "Year Built", 
     ylab = "Price (in Lakhs)",
     main = "Yearly Price Trends: Ready_to_Move vs Under_Construction")

#For Under_Construction House
yearly_mean_cons <- aggregate(Price_in_Lakhs ~ Year_Built,data = 
                                 dt[which(dt$Availability_Status  =="Under_Construction"), ], FUN = mean)
lines(yearly_mean_cons,  lty=2, type = "o", 
     pch = 19,
     col = "blue")
#For average Price line
lines(yearly_mean$Year_Built, yearly_mean$Price_in_Lakhs,lty = 3, type = "o", 
     pch = 19,
     col = "red")

#Legend
legend("topleft", 
       legend = c("Ready_to_Move", "Under_Construction", "Mean Price"),
       col = c("darkgreen", "blue","red"), 
       lty = c(1, 2,3), 
       pch = c(19, 19,19),
       bty = "n")


```

```{r}
### Calculation for Median
yearly_median_ready <- aggregate(Price_in_Lakhs ~ Year_Built,data = 
                                 dt[which(dt$Availability_Status  =="Ready_to_Move"), ], FUN = median)
plot(yearly_mean_ready,  type = "o", 
     pch = 19,
     col = "darkgreen",
     xlab = "Year Built", 
     ylab = "Price (in Lakhs)",
     main = "Yearly Median Price Trends: Ready_to_Move vs Under_Construction")

#For Under_Construction House
yearly_mean_cons <- aggregate(Price_in_Lakhs ~ Year_Built,data = 
                                 dt[which(dt$Availability_Status  =="Under_Construction"), ], FUN = median)
lines(yearly_mean_cons,  lty=2, type = "o", 
     pch = 19,
     col = "blue")
#For average Price line
lines(yearly_mean$Year_Built, yearly_median$Price_in_Lakhs,lty = 3, type = "o", 
     pch = 19,
     col = "red")

#Legend
legend("topleft", 
       legend = c("Ready_to_Move", "Under_Construction", "Median Price"),
       col = c("darkgreen", "blue","red"), 
       lty = c(1, 2,3), 
       pch = c(19, 19,19),
       bty = "n")


```

```{r}
### Calculation for Median
yearly_median_ready <- aggregate(Price_per_SqFt ~ Year_Built,data = 
                                 dt[which(dt$Availability_Status  =="Ready_to_Move"), ], FUN = median)
plot(yearly_median_ready,  type = "o", 
     pch = 19,
     col = "darkgreen",
     xlab = "Year Built", 
     ylab = "Price (per SqFt)",
     main = "Yearly Median Price Trends: Ready_to_Move vs Under_Construction")

#For Under_Construction House
yearly_median_cons <- aggregate(Price_per_SqFt ~ Year_Built,data = 
                                 dt[which(dt$Availability_Status  =="Under_Construction"), ], FUN = median)

lines(yearly_median_cons,  lty=2, type = "o", 
     pch = 19,
     col = "blue")
#For Median Price line
yearly_median_sqft <- aggregate(Price_per_SqFt ~ Year_Built, data = dt, FUN = median)
lines(yearly_median$Year_Built, yearly_median$Price_per_SqFt,lty = 3, type = "o", 
     pch = 19,
     col = "red")

#Legend
legend("topleft", 
       legend = c("Ready_to_Move", "Under_Construction", "Median Price"),
       col = c("darkgreen", "blue","red"), 
       lty = c(1, 2,3), 
       pch = c(19, 19,19),
       bty = "n")
```

### Facing Direction

```{r}
barplot(table(dt$Facing), 
        main = "Property Distribution by Facing Direction",
        col = "steelblue",
        xlab = "Direction",
        ylab = "Number of Houses",
        las = 2) # las=2 makes labels vertical if they are long

#Counting of houses facing each Direction
table(dt$Facing)
```

```{r}
#The average prices of houses based on their facing direction
avg_price_summary <- dt %>%
  group_by(Facing) %>%
  summarise(Average_Price = mean(Price_in_Lakhs),
            Property_Count = n()) %>%
  arrange(desc(Average_Price))

print(avg_price_summary)
```
