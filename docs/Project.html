<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Swarnava Kundu">

<title>Indian House Price Prediction Project – Indian_House_Pricing_Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.9/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/plotly-binding-4.12.0/plotly.js"></script>

<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>

<link href="site_libs/plotly-htmlwidgets-css-2.25.2/plotly-htmlwidgets.css" rel="stylesheet">

<script src="site_libs/plotly-main-2.25.2/plotly-latest.min.js"></script>

<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>

<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">

<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>

<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>

<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">

<script src="site_libs/leaflet-binding-2.2.3/leaflet.js"></script>

<link href="site_libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet">

<link href="site_libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet">

<script src="site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>

<script src="site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>

<script src="site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>



<link rel="stylesheet" href="styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#file-description" id="toc-file-description" class="nav-link active" data-scroll-target="#file-description">File description:</a></li>
  <li><a href="#column-description" id="toc-column-description" class="nav-link" data-scroll-target="#column-description">Column Description</a></li>
  <li><a href="#observation-from-data" id="toc-observation-from-data" class="nav-link" data-scroll-target="#observation-from-data">Observation From Data</a>
  <ul class="collapse">
  <li><a href="#pricing" id="toc-pricing" class="nav-link" data-scroll-target="#pricing">Pricing</a></li>
  <li><a href="#locality" id="toc-locality" class="nav-link" data-scroll-target="#locality">Locality</a></li>
  <li><a href="#year-built" id="toc-year-built" class="nav-link" data-scroll-target="#year-built">Year Built</a></li>
  <li><a href="#bhk" id="toc-bhk" class="nav-link" data-scroll-target="#bhk">BHK</a></li>
  <li><a href="#property" id="toc-property" class="nav-link" data-scroll-target="#property">Property</a></li>
  <li><a href="#year-wise-price-change-analysis" id="toc-year-wise-price-change-analysis" class="nav-link" data-scroll-target="#year-wise-price-change-analysis">Year Wise Price Change Analysis</a></li>
  <li><a href="#facing-direction" id="toc-facing-direction" class="nav-link" data-scroll-target="#facing-direction">Facing Direction</a></li>
  <li><a href="#age-of-property" id="toc-age-of-property" class="nav-link" data-scroll-target="#age-of-property">Age of Property</a></li>
  <li><a href="#amenities" id="toc-amenities" class="nav-link" data-scroll-target="#amenities">Amenities</a></li>
  <li><a href="#city" id="toc-city" class="nav-link" data-scroll-target="#city">City</a></li>
  <li><a href="#schools" id="toc-schools" class="nav-link" data-scroll-target="#schools">Schools</a></li>
  </ul></li>
  <li><a href="#still-working" id="toc-still-working" class="nav-link" data-scroll-target="#still-working">Still Working…</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Indian House Price Prediction Project</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Swarnava Kundu </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="file-description" class="level2">
<h2 class="anchored" data-anchor-id="file-description">File description:</h2>
<p>The India Housing Prices Data set contains 2.5 lakh rows and 23 columns, offering detailed insights into housing market trends across various Indian states. It includes attributes related to property types, pricing, location, and amenities, making it suitable for analysis ranging from basic descriptive statistics to advanced machine learning applications.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>dt <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"D:/MTTS STDSMLAI/Indian_House_Pricing_Project/india_housing_prices.csv"</span>, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#head(dt,n=3)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 250000     23</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ID"                             "State"                         
 [3] "City"                           "Locality"                      
 [5] "Property_Type"                  "BHK"                           
 [7] "Size_in_SqFt"                   "Price_in_Lakhs"                
 [9] "Price_per_SqFt"                 "Year_Built"                    
[11] "Furnished_Status"               "Floor_No"                      
[13] "Total_Floors"                   "Age_of_Property"               
[15] "Nearby_Schools"                 "Nearby_Hospitals"              
[17] "Public_Transport_Accessibility" "Parking_Space"                 
[19] "Security"                       "Amenities"                     
[21] "Facing"                         "Owner_Type"                    
[23] "Availability_Status"           </code></pre>
</div>
</div>
</section>
<section id="column-description" class="level2">
<h2 class="anchored" data-anchor-id="column-description">Column Description</h2>
<p>Some understanding from our Data set</p>
<ul>
<li><p><strong>ID</strong>: Different rows having different Integer values</p></li>
<li><p><strong>State</strong>: Name of States of India ( character )</p></li>
<li><p><strong>City</strong>: Name of Cities ( character )</p></li>
<li><p><strong>Locality</strong>: Name of Localities ( character )</p></li>
<li><p><strong>Property_Type</strong>: 3 types of property. ( Apartment, Independent House, Villa )</p></li>
<li><p><strong>BHK</strong>: 5 varieties are there. ( 1,2,3,4,5)</p></li>
<li><p><strong>Size_in_sqFt</strong>: Plot size in Sqft. ( integer )</p></li>
<li><p><strong>Price_in_Lakhs</strong>: House price in Lakhs ( Double )</p></li>
<li><p><strong>Price_per_SqFt</strong>: House price per Sqft. ( Double )</p></li>
<li><p><strong>Year_Built</strong>: Year of built. ( integer )</p></li>
<li><p><strong>Furnished_Status</strong>: Furnished Status ( Furnished, Unfurnished, Semi-furnished )</p></li>
<li><p><strong>Floor_No</strong>: Floor No ( Integer )</p></li>
<li><p><strong>Total_Floors</strong>: Total floor in the house ( Integer )</p></li>
<li><p><strong>Age_of_Property</strong>: Age of property ( Integer )</p></li>
<li><p><strong>Nearby_Schools</strong>: No.&nbsp;of nearby schools. ( Integer )</p></li>
<li><p><strong>Nearby_Hospitals</strong>: No.&nbsp;of nearby hospital. ( Integer )</p></li>
<li><p><strong>Public_Transport_Accessibility</strong>: Chance of getting Public Transportation (High, Low, Medium )</p></li>
<li><p><strong>Parking_Space</strong>: Parking Space present or not ( Yes, No )</p></li>
<li><p><strong>Security</strong>: ( Yes, No )</p></li>
<li><p><strong>Amenities</strong>: Amenities like: Playground, Gym, Pool, etc.</p></li>
<li><p><strong>Facing</strong>: House Facing in which Direction ( East, West, South, North )</p></li>
<li><p><strong>Owner_Type</strong>: Type of owner ( Owner, Builder, Broker )</p></li>
<li><p><strong>Availability_Status</strong>: Status of availability ( Ready_to_move, Under_construction )</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(dt<span class="sc">$</span>Availability_Status)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(dt<span class="sc">$</span>Availability_Status))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dt<span class="sc">$</span>Size_in_SqFt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    500    1623    2747    2750    3874    5000 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(dt<span class="sc">$</span>Size_in_SqFt,<span class="at">horizontal =</span> <span class="cn">TRUE</span>, </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Size of the Property"</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Distribution of Property Sizes"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Size (sq ft)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(dt<span class="sc">$</span>Size_in_SqFt, <span class="at">breaks =</span> <span class="dv">30</span>,<span class="at">probability =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">main=</span><span class="st">"Distribution of Property Sizes"</span>, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">"Size (sq ft)"</span>, <span class="at">ylim=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.00030</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dt<span class="sc">$</span>Price_in_Lakhs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   10.0   132.6   253.9   254.6   376.9   500.0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>val <span class="ot">=</span> dt<span class="sc">$</span>Price_in_Lakhs<span class="sc">/</span><span class="dv">10</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(val)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1.00   13.26   25.39   25.46   37.69   50.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(dt<span class="sc">$</span>Price_in_Lakhs,<span class="at">horizontal =</span> <span class="cn">TRUE</span>, </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Price of the Property"</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Distribution of Property prices"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Price (Lakhs)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(dt<span class="sc">$</span>Price_in_Lakhs, <span class="at">breaks =</span> <span class="dv">20</span>,<span class="at">probability =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">main=</span><span class="st">"Distribution of Property Prices"</span>, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">"Price (Lakhs)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dt<span class="sc">$</span>Price_per_SqFt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0000  0.0500  0.0900  0.1306  0.1600  0.9900 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(dt<span class="sc">$</span>Price_per_SqFt,<span class="at">horizontal =</span> <span class="cn">TRUE</span>,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">"Price per SqFt of the Property"</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Distribution of Property prices per SqFt"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Price (per SqFt)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>( dt<span class="sc">$</span>Price_per_SqFt, <span class="at">breaks =</span> <span class="dv">30</span>,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">main=</span><span class="st">"Distribution of Property prices per SqFt"</span>, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">"Price (per SqFt)"</span>, <span class="at">ylim=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">80000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>The data is <strong>positively skewed (right-skewed).</strong></p></li>
<li><p>The majority of the property prices are clustered at the lower end of the scale (between 0.0 and 0.2).</p></li>
<li><p>Here is a long tail extending toward the right. This indicates that while most properties are relatively affordable (on this scale), there are a few properties with significantly higher prices per square foot.</p></li>
</ul>
</section>
<section id="observation-from-data" class="level2">
<h2 class="anchored" data-anchor-id="observation-from-data">Observation From Data</h2>
<section id="pricing" class="level3">
<h3 class="anchored" data-anchor-id="pricing">Pricing</h3>
<ul>
<li><strong>Price_in_Lakhs = Size_in_SqFt × Price_per_SqFt</strong>&nbsp;+ (Some dynamic Charge/ Discount )</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>Price_diff <span class="ot">&lt;-</span> dt<span class="sc">$</span>Price_in_Lakhs <span class="sc">-</span> (dt<span class="sc">$</span>Size_in_SqFt <span class="sc">*</span> dt<span class="sc">$</span>Price_per_SqFt)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(dt<span class="sc">$</span>Size_in_SqFt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>pos_price_diff <span class="ot">=</span> <span class="fu">sum</span>(<span class="fu">round</span>(Price_diff,<span class="dv">4</span>) <span class="sc">&gt;</span> <span class="fl">0.0</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>no_price_diff <span class="ot">=</span> <span class="fu">sum</span>(<span class="fu">round</span>(Price_diff,<span class="dv">2</span>) <span class="sc">==</span> <span class="fl">0.0</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>neg_price_diff <span class="ot">=</span> <span class="fu">sum</span>(<span class="fu">round</span>(Price_diff,<span class="dv">4</span>) <span class="sc">&lt;</span> <span class="fl">0.0</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>((pos_price_diff<span class="sc">+</span>no_price_diff<span class="sc">+</span>neg_price_diff))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 250000</code></pre>
</div>
</div>
<p>50.29% data have more price than the equation.</p>
<p>49.65% data having less price than the equation.</p>
<p>And 0.05% data having exactly same value.</p>
</section>
<section id="locality" class="level3">
<h3 class="anchored" data-anchor-id="locality">Locality</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>locality_summary <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(City) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">localities =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(Locality), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">no_localities =</span> <span class="fu">length</span>(<span class="fu">unique</span>(Locality))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(locality_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 42 × 3
   City        localities                                          no_localities
   &lt;chr&gt;       &lt;chr&gt;                                                       &lt;int&gt;
 1 Ahmedabad   Locality_74, Locality_387, Locality_382, Locality_…           500
 2 Amritsar    Locality_466, Locality_372, Locality_145, Locality…           500
 3 Bangalore   Locality_462, Locality_125, Locality_498, Locality…           500
 4 Bhopal      Locality_305, Locality_412, Locality_121, Locality…           500
 5 Bhubaneswar Locality_120, Locality_491, Locality_350, Locality…           500
 6 Bilaspur    Locality_490, Locality_241, Locality_74, Locality_…           500
 7 Chennai     Locality_84, Locality_143, Locality_398, Locality_…           500
 8 Coimbatore  Locality_254, Locality_103, Locality_139, Locality…           500
 9 Cuttack     Locality_180, Locality_305, Locality_164, Locality…           500
10 Dehradun    Locality_50, Locality_353, Locality_314, Locality_…           500
# ℹ 32 more rows</code></pre>
</div>
</div>
<p>After grouping by state and city, By random check i see that Locality_463 is present in Ahmadabad and Bhopal.</p>
<p>Now i do a quick search to find in which cities it is present.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>dt <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Locality <span class="sc">==</span> <span class="st">"Locality_463"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(City)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             City
1          Bhopal
2       Ahmedabad
3          Jaipur
4       Hyderabad
5         Silchar
6          Mysore
7      Jamshedpur
8        Guwahati
9  Vishakhapatnam
10       Dehradun
11       Bilaspur
12     Coimbatore
13       Durgapur
14     Vijayawada
15      New Delhi
16        Gurgaon
17      Mangalore
18      Bangalore
19           Pune
20       Ludhiana
21         Indore
22     Trivandrum
23        Kolkata
24       Amritsar
25      Faridabad
26        Chennai
27        Cuttack
28         Mumbai
29    Bhubaneswar
30          Surat
31          Noida
32         Dwarka
33          Kochi
34       Warangal
35         Ranchi
36           Gaya
37         Raipur
38          Patna
39        Lucknow
40       Haridwar
41         Nagpur
42        Jodhpur</code></pre>
</div>
</div>
<p>It gives that it is present under 42 cities.</p>
<p><strong>Each city has 500 localities .</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(dt<span class="sc">$</span>Locality))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 500</code></pre>
</div>
</div>
<p>Also there are 500 localities in total. Then the common observation is that all 500 localities are common in all cities.</p>
</section>
<section id="year-built" class="level3">
<h3 class="anchored" data-anchor-id="year-built">Year Built</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(<span class="fu">sort</span>(dt<span class="sc">$</span>Year_Built)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 34</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dt<span class="sc">$</span>Year_Built)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1990    1998    2007    2007    2015    2023 </code></pre>
</div>
</div>
</section>
<section id="bhk" class="level3">
<h3 class="anchored" data-anchor-id="bhk">BHK</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>BHK_summary <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">BHKs =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(BHK), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">no_BHK =</span> <span class="fu">length</span>(<span class="fu">unique</span>(BHK))</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>All States have all type of BHK options.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>BHK_summary2 <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(City) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">BHKs =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(BHK), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">no_BHK =</span> <span class="fu">length</span>(<span class="fu">unique</span>(BHK))</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Also, all cities have all BHK options.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Percentage distribution of BHK </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(dt<span class="sc">$</span>BHK)) <span class="sc">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      1       2       3       4       5 
20.0784 19.9260 20.0268 19.9152 20.0536 </code></pre>
</div>
</div>
</section>
<section id="property" class="level3">
<h3 class="anchored" data-anchor-id="property">Property</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Counting of properties each States have</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>Property_list <span class="ot">=</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(City) <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count_prop =</span> <span class="fu">length</span>(<span class="fu">unique</span>(ID)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Rechecking the sum of the count column is matching or not!</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>Property_list <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(count_prop, sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  count_prop
       &lt;int&gt;
1     250000</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>Property_list<span class="sc">$</span>City[<span class="fu">which.max</span>(Property_list<span class="sc">$</span>count_prop)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Coimbatore"</code></pre>
</div>
</div>
<p>So, Coimbatore has maximum properties.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>city_prop_type<span class="ot">=</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(City) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count_prop_type =</span> <span class="fu">length</span>(<span class="fu">unique</span>(Property_Type)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>All cities have all the 3 varieties of property.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Property type wise Average Price</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>Price_per_prop<span class="ot">=</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Property_Type <span class="sc">+</span> Availability_Status, <span class="at">data =</span> dt, <span class="at">FUN =</span> mean)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>Price_per_prop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Property_Type Availability_Status Price_in_Lakhs
1         Apartment       Ready_to_Move       254.9925
2 Independent House       Ready_to_Move       255.8287
3             Villa       Ready_to_Move       254.1354
4         Apartment  Under_Construction       254.2484
5 Independent House  Under_Construction       254.9224
6             Villa  Under_Construction       253.4039</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Property type wise Average Price per SqFt</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>Price_per_sqft_prop<span class="ot">=</span> <span class="fu">aggregate</span>(Price_per_SqFt <span class="sc">~</span> Property_Type <span class="sc">+</span> Availability_Status, <span class="at">data =</span> dt, <span class="at">FUN =</span> median)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>Price_per_sqft_prop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Property_Type Availability_Status Price_per_SqFt
1         Apartment       Ready_to_Move           0.09
2 Independent House       Ready_to_Move           0.09
3             Villa       Ready_to_Move           0.09
4         Apartment  Under_Construction           0.09
5 Independent House  Under_Construction           0.09
6             Villa  Under_Construction           0.09</code></pre>
</div>
</div>
</section>
<section id="year-wise-price-change-analysis" class="level3">
<h3 class="anchored" data-anchor-id="year-wise-price-change-analysis">Year Wise Price Change Analysis</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>data_1990 <span class="ot">=</span> dt[dt<span class="sc">$</span>Year_Built <span class="sc">==</span> <span class="dv">1990</span>,]</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_1990<span class="sc">$</span>Price_in_Lakhs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  10.17  134.41  253.09  255.83  379.80  499.50 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(data_1990<span class="sc">$</span>Price_in_Lakhs,<span class="at">breaks =</span> <span class="dv">30</span>,<span class="at">probability =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">"Distribution of Property prices in 1990"</span>, </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">"Price (in Lakhs)"</span>, <span class="at">ylim=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.0030</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>data_1991 <span class="ot">=</span> dt[dt<span class="sc">$</span>Year_Built <span class="sc">==</span> <span class="dv">1991</span>,]</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_1991<span class="sc">$</span>Price_in_Lakhs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  10.01  129.83  248.38  251.39  374.07  499.98 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(data_1991<span class="sc">$</span>Price_in_Lakhs,<span class="at">breaks =</span> <span class="dv">30</span>,<span class="at">probability =</span> <span class="cn">TRUE</span>,</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">"Distribution of Property prices in 1991"</span>, </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">"Price (in Lakhs)"</span> , <span class="at">ylim=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.0030</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Kind of same summary are there for these two years.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the yearly statistics</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>yearly_mean <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built, <span class="at">data =</span> dt, <span class="at">FUN =</span> mean)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>yearly_min  <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built, <span class="at">data =</span> dt, <span class="at">FUN =</span> min)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>yearly_max  <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built, <span class="at">data =</span> dt, <span class="at">FUN =</span> max)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>yearly_median <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built, <span class="at">data =</span> dt, <span class="at">FUN =</span> median)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the initial plot with the Max </span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. The Maximum line (Dashed red)</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> yearly_max<span class="sc">$</span>Year_Built, yearly_max<span class="sc">$</span>Price_in_Lakhs, </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">"o"</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">pch =</span> <span class="dv">18</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">"Year Built"</span>, </span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Price (in Lakhs)"</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Yearly Price Trends: Max"</span>)</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2.Add The mean line</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(yearly_mean<span class="sc">$</span>Year_Built, yearly_mean<span class="sc">$</span>Price_in_Lakhs, </span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">"o"</span>, </span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"darkgreen"</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Year Built"</span>, </span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Price (in Lakhs)"</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Yearly Price Trends: Mean"</span>)</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Add the Minimum line (Dashed blue)</span></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(yearly_min<span class="sc">$</span>Year_Built, yearly_min<span class="sc">$</span>Price_in_Lakhs, </span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">"o"</span>, <span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">pch =</span> <span class="dv">18</span>,</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">"Year Built"</span>, </span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Price (in Lakhs)"</span>,</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Yearly Price Trends: Min"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div></li>
<li>The Mean price fluctuates within a very narrow band (roughly between <strong>251 and 257 Lakhs</strong>). This tells us that despite individual year-to-year variations, the house price didn’t change drastically over the years.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#For Ready_to_Move House</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>yearly_mean_ready <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built,<span class="at">data =</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>                                 dt[<span class="fu">which</span>(dt<span class="sc">$</span>Availability_Status  <span class="sc">==</span><span class="st">"Ready_to_Move"</span>), ], <span class="at">FUN =</span> mean)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="co">#For Under_Construction House</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>yearly_mean_cons <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built,<span class="at">data =</span> </span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>                                 dt[<span class="fu">which</span>(dt<span class="sc">$</span>Availability_Status  <span class="sc">==</span><span class="st">"Under_Construction"</span>), ], <span class="at">FUN =</span> mean)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Ready to Move</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_mean_ready, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_in_Lakhs, <span class="at">name =</span> <span class="st">'Ready_to_Move'</span>,</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'darkgreen'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Under Construction</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_mean_cons, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_in_Lakhs, <span class="at">name =</span> <span class="st">'Under_Construction'</span>,</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'blue'</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Overall Median</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_mean, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_in_Lakhs, <span class="at">name =</span> <span class="st">'Overall Mean'</span>,</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'red'</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Layout and Axis Titles</span></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Yearly Mean Price Trends: Ready_to_Move vs Under_Construction"</span>,</span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year Built"</span>),</span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Price (in Lakhs)"</span>, <span class="at">range =</span> <span class="fu">c</span>(<span class="dv">240</span>, <span class="dv">270</span>)),</span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">hovermode =</span> <span class="st">"x unified"</span>) <span class="co"># Shows all values when you hover over a year</span></span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-919aee2929fe775fbf84" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-919aee2929fe775fbf84">{"x":{"visdat":{"5b4c2b1663ca":["function () ","plotlyVisDat"],"5b4c61bc2529":["function () ","data"],"5b4c42c51338":["function () ","data"],"5b4c433f377b":["function () ","data"]},"cur_data":"5b4c433f377b","attrs":{"5b4c61bc2529":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Ready_to_Move","type":"scatter","mode":"lines+markers","line":{"color":"darkgreen"},"inherit":true},"5b4c42c51338":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Under_Construction","type":"scatter","mode":"lines+markers","line":{"color":"blue","dash":"dash"},"inherit":true},"5b4c433f377b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Overall Mean","type":"scatter","mode":"lines+markers","line":{"color":"red","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Yearly Mean Price Trends: Ready_to_Move vs Under_Construction","xaxis":{"domain":[0,1],"automargin":true,"title":"Year Built"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Price (in Lakhs)","range":[240,270]},"hovermode":"x unified","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[257.93071409028727,252.1806333705357,254.3867756232687,250.31993717563506,254.79616916780355,254.29066024759285,256.07512772250607,250.03007804090419,257.90991096271563,251.31242048517521,253.91675811131628,255.54108851017043,261.54252032520327,254.17410036041031,254.86765357237016,254.73216245585439,256.91117092866756,253.19661756829137,255.69960374243257,251.94907679738563,257.52677454153184,254.39802559912854,256.75643558951964,260.02919856788765,254.96713273371492,256.52799785867239,255.28281224152192,254.08175365921016,250.12267359212686,254.38211974110033,255.82888280394303,257.46573207036533,254.01923707957343,256.30922668083974],"name":"Ready_to_Move","type":"scatter","mode":"lines+markers","line":{"color":"darkgreen"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[253.72361847499317,250.61148871766648,253.97784762919554,255.09573576799141,255.66027793065493,257.07084253028262,253.74894360385144,256.67603519384107,250.88775549986076,254.62057394554191,252.0120927664274,252.39564822460775,254.15515827140104,252.40530382399163,254.08171443878919,255.35821061405946,255.17547689813563,252.26343063738619,253.941052193226,254.16032567049808,254.5597493188011,251.07841680578741,254.45865627519484,253.82284227820372,251.53138478085506,256.56649426819513,258.51431793478258,256.56440010712373,251.64954965034966,253.16847365562194,256.2675263015916,256.22852463528761,256.5787684729064,253.23903022339027],"name":"Under_Construction","type":"scatter","mode":"lines+markers","line":{"color":"blue","dash":"dash"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[255.82601585999453,251.39062621224716,254.17831341662139,252.72820717670956,255.22638854637623,255.69588163265306,254.92532091378843,253.31735482116144,254.40029923451635,252.97448363733906,252.98613651692972,253.96944986934398,257.87758978560697,253.26456969696969,254.47781690140846,255.04166071428571,256.04496224379722,252.73002410283877,254.82421641791043,253.05198471198472,256.0509026836541,252.75603908615469,255.59867840216654,256.91707263490321,253.23763264753654,256.54728462668623,256.91028465854657,255.34214819850442,250.87735103000139,253.77743166441135,256.04984372876748,256.85236217248911,255.29847763643824,254.76560914376321],"name":"Overall Mean","type":"scatter","mode":"lines+markers","line":{"color":"red","dash":"dash"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Calculation for Median</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>yearly_median_ready <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built,<span class="at">data =</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>                                 dt[<span class="fu">which</span>(dt<span class="sc">$</span>Availability_Status  <span class="sc">==</span><span class="st">"Ready_to_Move"</span>), ], <span class="at">FUN =</span> median)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co">#For Under_Construction House</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>yearly_median_cons <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Year_Built,<span class="at">data =</span> </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                                 dt[<span class="fu">which</span>(dt<span class="sc">$</span>Availability_Status  <span class="sc">==</span><span class="st">"Under_Construction"</span>), ], <span class="at">FUN =</span> median)</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Ready to Move</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_median_ready, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_in_Lakhs, <span class="at">name =</span> <span class="st">'Ready_to_Move'</span>,</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'darkgreen'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Under Construction</span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_median_cons, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_in_Lakhs, <span class="at">name =</span> <span class="st">'Under_Construction'</span>,</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'blue'</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Overall Median</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_median, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_in_Lakhs, <span class="at">name =</span> <span class="st">'Overall Median'</span>,</span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'red'</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Layout and Axis Titles</span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Yearly Median Price Trends:&lt;br&gt;Ready_to_Move vs Under_Construction"</span>,</span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year Built"</span>),</span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Price (in Lakhs)"</span>, <span class="at">range =</span> <span class="fu">c</span>(<span class="dv">240</span>, <span class="dv">270</span>)),</span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">hovermode =</span> <span class="st">"x unified"</span>) <span class="co"># Shows all values when you hover over a year</span></span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-29"><a href="#cb61-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb61-30"><a href="#cb61-30" aria-hidden="true" tabindex="-1"></a>p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-5c4a9c3dfb5d33144f71" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-5c4a9c3dfb5d33144f71">{"x":{"visdat":{"5b4c1d6e5e98":["function () ","plotlyVisDat"],"5b4c418f43bb":["function () ","data"],"5b4c20b1714e":["function () ","data"],"5b4c533053cc":["function () ","data"]},"cur_data":"5b4c533053cc","attrs":{"5b4c418f43bb":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Ready_to_Move","type":"scatter","mode":"lines+markers","line":{"color":"darkgreen"},"inherit":true},"5b4c20b1714e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Under_Construction","type":"scatter","mode":"lines+markers","line":{"color":"blue","dash":"dash"},"inherit":true},"5b4c533053cc":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Overall Median","type":"scatter","mode":"lines+markers","line":{"color":"red","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Yearly Median Price Trends:<br>Ready_to_Move vs Under_Construction","xaxis":{"domain":[0,1],"automargin":true,"title":"Year Built"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Price (in Lakhs)","range":[240,270]},"hovermode":"x unified","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[255.5,252.59999999999999,250.19499999999999,245.90000000000001,250.33000000000001,254.05000000000001,255.97,250.215,260.77499999999998,246.85499999999999,255.41,256.70500000000004,264.57499999999999,252.50999999999999,255.40000000000001,254.50999999999999,256.94,249.69,254.19,254.34,254.98500000000001,250.79000000000002,260.47000000000003,261.75999999999999,252.15000000000001,257.75999999999999,253.02000000000001,255.11000000000001,245.82499999999999,252.19499999999999,256.66499999999996,258.87,253.15000000000001,256.12],"name":"Ready_to_Move","type":"scatter","mode":"lines+markers","line":{"color":"darkgreen"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[250.03999999999999,242.27499999999998,258.65999999999997,254.69,255.96000000000001,258.06999999999999,252.87,256.08999999999997,250.08000000000001,257.19999999999999,248.815,253.28999999999999,254.66999999999999,251.40000000000001,251.97,254.28,256.14999999999998,249.91500000000002,252.33499999999998,253.815,251.19499999999999,249.51999999999998,255.5,250.85000000000002,247.88999999999999,252.72,261.44499999999999,254.17500000000001,248.16,251.78999999999999,258.60000000000002,257.25,255.84500000000003,253.88999999999999],"name":"Under_Construction","type":"scatter","mode":"lines+markers","line":{"color":"blue","dash":"dash"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[253.09,248.38,254.81999999999999,250.37,253.44,257.065,254.95999999999998,252.99000000000001,255.38999999999999,252.82499999999999,251.63999999999999,254.53,259.00999999999999,251.84,253.88999999999999,254.31,256.505,249.86000000000001,253.26999999999998,253.93000000000001,253.005,250.01499999999999,258.02999999999997,256.27999999999997,250.05500000000001,254.94999999999999,257.88,255.00999999999999,246.44,252.04000000000002,257.56,258.28499999999997,254.25,255],"name":"Overall Median","type":"scatter","mode":"lines+markers","line":{"color":"red","dash":"dash"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Calculation for Median</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>yearly_median_sqft_ready <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_per_SqFt <span class="sc">~</span> Year_Built,<span class="at">data =</span> </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>                                 dt[<span class="fu">which</span>(dt<span class="sc">$</span>Availability_Status  <span class="sc">==</span><span class="st">"Ready_to_Move"</span>), ], <span class="at">FUN =</span> median)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="co">#For Under_Construction House</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>yearly_median_sqft_cons <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_per_SqFt <span class="sc">~</span> Year_Built,<span class="at">data =</span> </span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>                                 dt[<span class="fu">which</span>(dt<span class="sc">$</span>Availability_Status  <span class="sc">==</span><span class="st">"Under_Construction"</span>), ], <span class="at">FUN =</span> median)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="co">#For Median Price line</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>yearly_median_sqft <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_per_SqFt <span class="sc">~</span> Year_Built, <span class="at">data =</span> dt, <span class="at">FUN =</span> median)</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Ready to Move</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_median_sqft_ready, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_per_SqFt, <span class="at">name =</span> <span class="st">'Ready_to_Move'</span>,</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'darkgreen'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Under Construction</span></span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_median_sqft_cons, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_per_SqFt, <span class="at">name =</span> <span class="st">'Under_Construction'</span>,</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'blue'</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Line for Overall Median</span></span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_trace</span>(<span class="at">data =</span> yearly_median_sqft, <span class="at">x =</span> <span class="sc">~</span>Year_Built, <span class="at">y =</span> <span class="sc">~</span>Price_per_SqFt, <span class="at">name =</span> <span class="st">'Overall Median'</span>,</span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines+markers'</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'magenta'</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Layout and Axis Titles</span></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Yearly Median Price per SqFt Trends: Ready_to_Move vs Under_Construction"</span>,</span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year Built"</span>),</span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Price (per SqFt)"</span>, <span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.085</span>,<span class="fl">0.105</span>)),</span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">hovermode =</span> <span class="st">"x unified"</span>) <span class="co"># Shows all values when you hover over a year</span></span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-048256385de83bd8df5d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-048256385de83bd8df5d">{"x":{"visdat":{"5b4c9b61b6e":["function () ","plotlyVisDat"],"5b4c6fbc4ddd":["function () ","data"],"5b4c7c0b4ac0":["function () ","data"],"5b4c7a11643f":["function () ","data"]},"cur_data":"5b4c7a11643f","attrs":{"5b4c6fbc4ddd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Ready_to_Move","type":"scatter","mode":"lines+markers","line":{"color":"darkgreen"},"inherit":true},"5b4c7c0b4ac0":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Under_Construction","type":"scatter","mode":"lines+markers","line":{"color":"blue","dash":"dash"},"inherit":true},"5b4c7a11643f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"name":"Overall Median","type":"scatter","mode":"lines+markers","line":{"color":"magenta","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Yearly Median Price per SqFt Trends: Ready_to_Move vs Under_Construction","xaxis":{"domain":[0,1],"automargin":true,"title":"Year Built"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Price (per SqFt)","range":[0.085000000000000006,0.105]},"hovermode":"x unified","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.10000000000000001,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997],"name":"Ready_to_Move","type":"scatter","mode":"lines+markers","line":{"color":"darkgreen"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.089999999999999997,0.089999999999999997,0.089999999999999997,0.10000000000000001,0.089999999999999997,0.10000000000000001,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.10000000000000001,0.089999999999999997,0.089999999999999997,0.089999999999999997],"name":"Under_Construction","type":"scatter","mode":"lines+markers","line":{"color":"blue","dash":"dash"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.089999999999999997,0.10000000000000001,0.089999999999999997,0.089999999999999997,0.089999999999999997],"name":"Overall Median","type":"scatter","mode":"lines+markers","line":{"color":"magenta","dash":"dash"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="facing-direction" class="level3">
<h3 class="anchored" data-anchor-id="facing-direction">Facing Direction</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Counting of houses facing each Direction</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>facing_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(dt<span class="sc">$</span>Facing)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">2</span>),<span class="at">mgp =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>bp <span class="ot">=</span> <span class="fu">barplot</span>(<span class="fu">table</span>(dt<span class="sc">$</span>Facing), </span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Property Distribution by Facing Direction"</span>,</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="st">"steelblue"</span>,</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Direction"</span>,</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Number of Houses"</span>,  <span class="at">ylim=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">70000</span>), </span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>) </span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x =</span> bp, </span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> facing_counts, </span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">labels =</span> facing_counts, </span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">pos =</span> <span class="dv">3</span>, </span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.8</span>, </span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">font =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The average prices of houses based on their facing direction</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>avg_price_summary <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Facing) <span class="sc">%&gt;%</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Average_Price =</span> <span class="fu">mean</span>(Price_in_Lakhs),</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">Property_Count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Average_Price))</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(avg_price_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  Facing Average_Price Property_Count
  &lt;chr&gt;          &lt;dbl&gt;          &lt;int&gt;
1 West            255.          62757
2 North           255.          62637
3 East            254.          62269
4 South           254.          62337</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate frequency tables for all four directions</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>n_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(dt<span class="sc">$</span>Year_Built[dt<span class="sc">$</span>Facing <span class="sc">==</span> <span class="st">"North"</span>])</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>s_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(dt<span class="sc">$</span>Year_Built[dt<span class="sc">$</span>Facing <span class="sc">==</span> <span class="st">"South"</span>])</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>e_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(dt<span class="sc">$</span>Year_Built[dt<span class="sc">$</span>Facing <span class="sc">==</span> <span class="st">"East"</span>])</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>w_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(dt<span class="sc">$</span>Year_Built[dt<span class="sc">$</span>Facing <span class="sc">==</span> <span class="st">"West"</span>])</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the maximum count across all directions to set the Y-axis limit</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>max_val <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">c</span>(n_counts, s_counts, e_counts, w_counts))</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the data in a cleaner format</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a><span class="co"># We create a dataframe of counts by Year and Direction</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year_Built, Facing) <span class="sc">%&gt;%</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the interactive plot</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(plot_data, </span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">x =</span> <span class="sc">~</span>Year_Built, </span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> <span class="sc">~</span>Count, </span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="sc">~</span>Facing, </span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>, <span class="st">"darkgreen"</span>, <span class="st">"orange"</span>),</span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">type =</span> <span class="st">'scatter'</span>, </span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a>             <span class="at">mode =</span> <span class="st">'lines+markers'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-27"><a href="#cb66-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Year-wise Property Sales by Facing Direction"</span>,</span>
<span id="cb66-28"><a href="#cb66-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Year Built"</span>),</span>
<span id="cb66-29"><a href="#cb66-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Number of Houses Sold"</span>, <span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1700</span>, <span class="fu">max</span>(plot_data<span class="sc">$</span>Count) <span class="sc">+</span> <span class="dv">100</span>)),</span>
<span id="cb66-30"><a href="#cb66-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">'Click to Toggle Direction'</span>)))</span>
<span id="cb66-31"><a href="#cb66-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-32"><a href="#cb66-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb66-33"><a href="#cb66-33" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-e357b556f5bf9826cdc6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e357b556f5bf9826cdc6">{"x":{"visdat":{"5b4c3a0d35cd":["function () ","plotlyVisDat"]},"cur_data":"5b4c3a0d35cd","attrs":{"5b4c3a0d35cd":{"x":{},"y":{},"mode":"lines+markers","color":{},"colors":["blue","red","darkgreen","orange"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Year-wise Property Sales by Facing Direction","xaxis":{"domain":[0,1],"automargin":true,"title":"Year Built"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Houses Sold","range":[1700,2091]},"legend":{"title":{"text":"Click to Toggle Direction"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[1822,1826,1845,1813,1738,1785,1839,1831,1860,1820,1930,1795,1864,1878,1815,1792,1856,1810,1729,1869,1839,1788,1872,1826,1951,1899,1924,1781,1798,1803,1809,1766,1815,1881],"mode":"lines+markers","type":"scatter","name":"East","marker":{"color":"rgba(0,0,255,1)","line":{"color":"rgba(0,0,255,1)"}},"textfont":{"color":"rgba(0,0,255,1)"},"error_y":{"color":"rgba(0,0,255,1)"},"error_x":{"color":"rgba(0,0,255,1)"},"line":{"color":"rgba(0,0,255,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[1815,1849,1920,1857,1865,1844,1810,1862,1778,1937,1844,1839,1761,1802,1904,1917,1848,1870,1813,1819,1830,1771,1800,1864,1772,1862,1769,1906,1811,1787,1852,1848,1820,1991],"mode":"lines+markers","type":"scatter","name":"North","marker":{"color":"rgba(255,0,0,1)","line":{"color":"rgba(255,0,0,1)"}},"textfont":{"color":"rgba(255,0,0,1)"},"error_y":{"color":"rgba(255,0,0,1)"},"error_x":{"color":"rgba(255,0,0,1)"},"line":{"color":"rgba(255,0,0,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[1838,1821,1794,1854,1827,1839,1814,1839,1766,1853,1810,1815,1868,1810,1922,1795,1864,1898,1883,1785,1893,1783,1826,1806,1854,1867,1745,1812,1809,1916,1838,1849,1830,1814],"mode":"lines+markers","type":"scatter","name":"South","marker":{"color":"rgba(0,100,0,1)","line":{"color":"rgba(0,100,0,1)"}},"textfont":{"color":"rgba(0,100,0,1)"},"error_y":{"color":"rgba(0,100,0,1)"},"error_x":{"color":"rgba(0,100,0,1)"},"line":{"color":"rgba(0,100,0,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023],"y":[1839,1722,1805,1861,1869,1882,1891,1821,1781,1846,1829,1822,1830,1935,1885,1776,1848,1890,1811,1853,1816,1924,1887,1787,1811,1859,1869,1856,1815,1884,1860,1865,1846,1882],"mode":"lines+markers","type":"scatter","name":"West","marker":{"color":"rgba(255,165,0,1)","line":{"color":"rgba(255,165,0,1)"}},"textfont":{"color":"rgba(255,165,0,1)"},"error_y":{"color":"rgba(255,165,0,1)"},"error_x":{"color":"rgba(255,165,0,1)"},"line":{"color":"rgba(255,165,0,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="age-of-property" class="level3">
<h3 class="anchored" data-anchor-id="age-of-property">Age of Property</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the age statistics</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>age_mean <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Age_of_Property, <span class="at">data =</span> dt, <span class="at">FUN =</span> mean)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>age_min  <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Age_of_Property, <span class="at">data =</span> dt, <span class="at">FUN =</span> min)</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>age_max  <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Age_of_Property, <span class="at">data =</span> dt, <span class="at">FUN =</span> max)</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>age_median <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Age_of_Property, <span class="at">data =</span> dt, <span class="at">FUN =</span> median)</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(age_mean<span class="sc">$</span>Age_of_Property, age_mean<span class="sc">$</span>Price_in_Lakhs, </span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">"o"</span>, <span class="at">lty =</span> <span class="dv">1</span>,</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"darkgreen"</span>,</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Age of Property"</span>, </span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">"Price (in Lakhs)"</span>,<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">246</span>,<span class="dv">259</span>),</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Age of property Price Trends: Mean vs Median"</span>)</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(age_median<span class="sc">$</span>Age_of_Property, age_median<span class="sc">$</span>Price_in_Lakhs, </span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">"o"</span>, <span class="at">lty =</span> <span class="dv">2</span>,</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"blue"</span>)</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a><span class="co">#Legend</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>, </span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"Median"</span>),</span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"darkgreen"</span>, <span class="st">"blue"</span>), </span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">19</span>, <span class="dv">19</span>,<span class="dv">19</span>),</span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">bty =</span> <span class="st">"n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="amenities" class="level3">
<h3 class="anchored" data-anchor-id="amenities">Amenities</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("fastDummies")</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastDummies)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="co"># split by ", " to create individual columns</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>dt_expanded <span class="ot">&lt;-</span> <span class="fu">dummy_cols</span>(dt, </span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">select_columns =</span> <span class="st">"Amenities"</span>, </span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">split =</span> <span class="st">", "</span>)</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional: Remove the original 'Amenities' column if you no longer need it</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>dt_expanded<span class="sc">$</span>Amenities <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Extended Data set created.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify your amenity columns</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>amenity_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Amenities_Garden"</span>, <span class="st">"Amenities_Clubhouse"</span>,</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Amenities_Pool"</span>, <span class="st">"Amenities_Gym"</span>, <span class="st">"Amenities_Playground"</span>,<span class="st">"Parking_Space"</span>,<span class="st">"Security"</span>) </span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Map "Yes" to 1 and "No" to 0</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>dt_expanded<span class="sc">$</span>Security <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(dt_expanded<span class="sc">$</span>Security <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>dt_expanded<span class="sc">$</span>Parking_Space <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(dt_expanded<span class="sc">$</span>Parking_Space <span class="sc">==</span> <span class="st">"Yes"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Total_Amm column by summing row-wise</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>dt_expanded<span class="sc">$</span>Total_Amm <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(dt_expanded[amenity_cols], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum the columns to get the count of houses for each</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>amenity_counts <span class="ot">&lt;-</span> <span class="fu">colSums</span>(dt_expanded[amenity_cols], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a summary table</span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>amenity_summary <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Amenity =</span> <span class="fu">names</span>(amenity_counts),</span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Count =</span> <span class="fu">as.numeric</span>(amenity_counts),</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">Percentage =</span> <span class="fu">round</span>((<span class="fu">as.numeric</span>(amenity_counts) <span class="sc">/</span> <span class="fu">nrow</span>(dt_expanded)) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(amenity_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Amenity  Count Percentage
1     Amenities_Garden 150177      60.07
2  Amenities_Clubhouse 150059      60.02
3       Amenities_Pool 150096      60.04
4        Amenities_Gym 149960      59.98
5 Amenities_Playground 149780      59.91
6        Parking_Space 124544      49.82
7             Security 125233      50.09</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># amenity columns</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>cols_to_compare <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Price_in_Lakhs"</span>, <span class="st">"Price_per_SqFt"</span>,</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Amenities_Garden"</span>, <span class="st">"Amenities_Clubhouse"</span>,</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Amenities_Pool"</span>, <span class="st">"Amenities_Gym"</span>, <span class="st">"Amenities_Playground"</span>, <span class="st">"Total_Amm"</span>)</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  Calculate the matrix</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(dt_expanded[cols_to_compare])</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlation Plot</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>corrplot<span class="sc">::</span><span class="fu">corrplot</span>(cor_matrix, </span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">method =</span> <span class="st">"color"</span>,       <span class="co"># Fills the tiles with color</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">addCoef.col =</span> <span class="st">"black"</span>,  <span class="co"># Color of the correlation coefficients</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">number.cex =</span> <span class="fl">0.7</span>,       <span class="co"># Scale for the numbers</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="st">"upper"</span>,         <span class="co"># Only shows the top triangle (cleaner look)</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">diag =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Correlation between Amenities and prices are 0 most of the cases.</li>
<li>Correlation between Total Ammenities count and price is <strong>0.001028.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Price for houses with amenity pool versus those without it</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>amenity_stats_pool <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(Price_in_Lakhs <span class="sc">~</span> Amenities_Pool, <span class="at">data =</span> dt_expanded, </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="at">Mean =</span> <span class="fu">mean</span>(x), </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">Median =</span> <span class="fu">median</span>(x), </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">SD =</span> <span class="fu">sd</span>(x), </span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">Min =</span> <span class="fu">min</span>(x), </span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">Max =</span> <span class="fu">max</span>(x)))</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to a readable data frame</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>amenity_stats_pool <span class="ot">&lt;-</span> <span class="fu">do.call</span>(data.frame, amenity_stats_pool)</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(amenity_stats_pool)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Amenities_Pool Price_in_Lakhs.Mean Price_in_Lakhs.Median Price_in_Lakhs.SD
1              0            254.2831               253.045          141.3782
2              1            254.7890               254.490          141.3312
  Price_in_Lakhs.Min Price_in_Lakhs.Max
1              10.00             499.99
2              10.01             500.00</code></pre>
</div>
</div>
<ul>
<li>Having amenity Pool and not having it , has less impact on our data.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing the impact of having a Gym on Price</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Price_in_Lakhs <span class="sc">~</span> Amenities_Gym , <span class="at">data =</span> dt_expanded,</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Price Distribution: Gym vs. No Gym"</span>,</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">"Gym Presence (1 = Yes, 0 = No)"</span>,</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Price (in Lakhs)"</span>,</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"lightgrey"</span>, <span class="st">"gold"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>As like Pool; having Gym has less impact. Also all the amenities has less impact.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a function to calculate stats for each amenity</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>calculate_premium <span class="ot">&lt;-</span> <span class="cf">function</span>(amenity_name) {</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mean price with the amenity</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  mean_with <span class="ot">&lt;-</span> <span class="fu">mean</span>(dt_expanded<span class="sc">$</span>Price_in_Lakhs[dt_expanded[[amenity_name]] <span class="sc">==</span> <span class="dv">1</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mean price without the amenity</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  mean_without <span class="ot">&lt;-</span> <span class="fu">mean</span>(dt_expanded<span class="sc">$</span>Price_in_Lakhs[dt_expanded[[amenity_name]] <span class="sc">==</span> <span class="dv">0</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate Premium</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  premium_val <span class="ot">&lt;-</span> mean_with <span class="sc">-</span> mean_without</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>  premium_pct <span class="ot">&lt;-</span> (premium_val <span class="sc">/</span> mean_without) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return as a data frame row</span></span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Amenity =</span> amenity_name,</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Price_With =</span> <span class="fu">round</span>(mean_with, <span class="dv">2</span>),</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Price_Without =</span> <span class="fu">round</span>(mean_without, <span class="dv">2</span>),</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Premium_Lakhs =</span> <span class="fu">round</span>(premium_val, <span class="dv">2</span>),</span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Premium_Percent =</span> <span class="fu">round</span>(premium_pct, <span class="dv">2</span>)</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Apply the function to all columns and combine</span></span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>premium_table <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, <span class="fu">lapply</span>(amenity_cols, calculate_premium))</span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Sort by highest percentage premium</span></span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>premium_table <span class="ot">&lt;-</span> premium_table[<span class="fu">order</span>(<span class="sc">-</span>premium_table<span class="sc">$</span>Premium_Percent), ]</span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-29"><a href="#cb75-29" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(premium_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Amenity Avg_Price_With Avg_Price_Without Premium_Lakhs
7             Security         255.12            254.05          1.08
4        Amenities_Gym         254.81            254.25          0.56
3       Amenities_Pool         254.79            254.28          0.51
6        Parking_Space         254.75            254.43          0.32
2  Amenities_Clubhouse         254.66            254.48          0.18
1     Amenities_Garden         254.64            254.50          0.14
5 Amenities_Playground         254.38            254.90         -0.52
  Premium_Percent
7            0.42
4            0.22
3            0.20
6            0.12
2            0.07
1            0.05
5           -0.21</code></pre>
</div>
</div>
<ul>
<li>We can see very light impacts are their with the amenities. But Playground has negative premium. Means that it is popular in older years.</li>
</ul>
</section>
<section id="city" class="level3">
<h3 class="anchored" data-anchor-id="city">City</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co">#State wise city count</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>State_summary <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span>  </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarize</span>(<span class="at">Cities =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(City), <span class="at">collapse =</span> <span class="st">", "</span>),</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">no_cities =</span> <span class="fu">length</span>(<span class="fu">unique</span>(City)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average price per city</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>city_summary <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(City) <span class="sc">%&gt;%</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Price_Lakhs =</span> <span class="fu">mean</span>(Price_in_Lakhs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Property_Count =</span> <span class="fu">n</span>()</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(city_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 42 × 3
   City        Avg_Price_Lakhs Property_Count
   &lt;chr&gt;                 &lt;dbl&gt;          &lt;int&gt;
 1 Ahmedabad              254.           6411
 2 Amritsar               252.           6221
 3 Bangalore              258.           4144
 4 Bhopal                 256.           6284
 5 Bhubaneswar            255.           6323
 6 Bilaspur               252.           6263
 7 Chennai                257.           6168
 8 Coimbatore             257.           6461
 9 Cuttack                251.           6358
10 Dehradun               257.           6234
# ℹ 32 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder)</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For finding the Lat/Long for each city automatically</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>city_geo <span class="ot">&lt;-</span> city_summary <span class="sc">%&gt;%</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geocode</span>(<span class="at">city =</span> City, <span class="at">method =</span> <span class="st">'osm'</span>, <span class="at">lat =</span> latitude , <span class="at">long =</span> longitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Passing 42 addresses to the Nominatim single address geocoder</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Query completed in: 75.9 seconds</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co">#BY default Geocode treats Vishakhapatnam as Vizag and Dwarka as</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the ancient city  of Gujrat</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Manually update Visakhapatnam and Dwarka coordinates in city_geo dataframe</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>city_geo <span class="ot">&lt;-</span> city_geo <span class="sc">%&gt;%</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">latitude =</span> <span class="fu">case_when</span>(</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>      City <span class="sc">==</span> <span class="st">"Dwarka"</span> <span class="sc">~</span> <span class="fl">28.5823</span>,</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>      City <span class="sc">==</span> <span class="st">"Vishakhapatnam"</span> <span class="sc">~</span> <span class="fl">17.6868</span>,</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> latitude</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">longitude =</span> <span class="fu">case_when</span>(</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>      City <span class="sc">==</span> <span class="st">"Dwarka"</span> <span class="sc">~</span> <span class="fl">77.0500</span>,</span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a>      City <span class="sc">==</span> <span class="st">"Vishakhapatnam"</span> <span class="sc">~</span> <span class="fl">83.2185</span>,</span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> longitude</span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating interactive Map</span></span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorNumeric</span>(</span>
<span id="cb83-22"><a href="#cb83-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="st">"RdYlGn"</span>,</span>
<span id="cb83-23"><a href="#cb83-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">domain =</span> city_geo<span class="sc">$</span>Avg_Price_Lakhs,</span>
<span id="cb83-24"><a href="#cb83-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">reverse =</span> <span class="cn">TRUE</span></span>
<span id="cb83-25"><a href="#cb83-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb83-26"><a href="#cb83-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-27"><a href="#cb83-27" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(city_geo) <span class="sc">%&gt;%</span></span>
<span id="cb83-28"><a href="#cb83-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb83-29"><a href="#cb83-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb83-30"><a href="#cb83-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> <span class="sc">~</span>longitude, </span>
<span id="cb83-31"><a href="#cb83-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="sc">~</span>latitude,</span>
<span id="cb83-32"><a href="#cb83-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">5</span>,</span>
<span id="cb83-33"><a href="#cb83-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">1</span>,</span>
<span id="cb83-34"><a href="#cb83-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.8</span>,</span>
<span id="cb83-35"><a href="#cb83-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply the color palette based on the price</span></span>
<span id="cb83-36"><a href="#cb83-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb83-37"><a href="#cb83-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">pal</span>(Avg_Price_Lakhs),</span>
<span id="cb83-38"><a href="#cb83-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"&lt;b&gt;City:&lt;/b&gt; "</span>, City, </span>
<span id="cb83-39"><a href="#cb83-39" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"&lt;br&gt;&lt;b&gt;Avg Price:&lt;/b&gt; "</span>, <span class="fu">round</span>(Avg_Price_Lakhs, <span class="dv">2</span>), <span class="st">" Lakhs"</span>,</span>
<span id="cb83-40"><a href="#cb83-40" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"&lt;br&gt;&lt;b&gt;Total Properties:&lt;/b&gt; "</span>, Property_Count),</span>
<span id="cb83-41"><a href="#cb83-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">clusterOptions =</span> <span class="fu">markerClusterOptions</span>()</span>
<span id="cb83-42"><a href="#cb83-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb83-43"><a href="#cb83-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a legend to make the colors clear</span></span>
<span id="cb83-44"><a href="#cb83-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(</span>
<span id="cb83-45"><a href="#cb83-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">pal =</span> pal, </span>
<span id="cb83-46"><a href="#cb83-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="sc">~</span>Avg_Price_Lakhs, </span>
<span id="cb83-47"><a href="#cb83-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="fl">0.7</span>, </span>
<span id="cb83-48"><a href="#cb83-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Avg House Price (Lakhs)"</span>,</span>
<span id="cb83-49"><a href="#cb83-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"bottomright"</span></span>
<span id="cb83-50"><a href="#cb83-50" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-f2237d12b15a92d1e6ce" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f2237d12b15a92d1e6ce">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[23.0215374,31.6356659,12.9767936,23.2584857,20.2602964,31.3380959,13.0836939,11.0018115,20.4686,30.3255646,23.5350475,28.5823,28.4031478,24.7964355,28.4646148,26.1805978,29.9384473,17.360589,22.7203616,26.9154576,22.8015194,26.2967719,9.9679032,22.5726459,26.8381,30.9090157,12.8698101,19.054999,12.3051828,21.1498134,28.6138954,28.5706333,25.6093239,18.5213738,21.2380912,23.3700501,24.829588,21.2094892,8.4882267,16.5115306,17.6868,17.9820644],[72.58005679999999,74.87874960000001,77.590082,77.401989,85.8394521,76.7611631,80.270186,76.96284249999999,85.8792,78.0436813,87.3380425,77.05,77.3105561,85.0079563,77.0299194,91.75394300000001,78.1452985,78.4740613,75.8681996,75.81898169999999,86.2029579,73.0351433,76.2444378,88.3638953,80.9346001,75.851601,74.8430082,72.8692035,76.65536090000001,79.0820556,77.20900570000001,77.3272147,85.1235252,73.85450710000001,81.6336993,85.32503869999999,92.79714800000001,72.83170579999999,76.947551,80.6160469,83.21850000000001,79.5970954],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"white","weight":1,"opacity":0.5,"fill":true,"fillColor":["#C7E77F","#70C164","#A50026","#FA9253","#FFF4AC","#41A858","#F57546","#FA9253","#006837","#F57044","#E5F49C","#BFE47A","#FFF5AF","#EF643E","#E2F397","#9FD669","#74C364","#F98A50","#FEDE8A","#FFE695","#81C866","#DEF191","#E24931","#DCF08F","#FDA95F","#ABDB6D","#F46D43","#50B05C","#F57446","#FED783","#239B51","#FCA35C","#8FCE67","#FA9253","#C0E47B","#FFFFBF","#7CC665","#BD1C27","#108546","#FFFEBD","#FEC776","#F8FCB5"],"fillOpacity":0.8},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,["<b>City:<\/b> Ahmedabad<br><b>Avg Price:<\/b> 253.59 Lakhs<br><b>Total Properties:<\/b> 6411","<b>City:<\/b> Amritsar<br><b>Avg Price:<\/b> 252.43 Lakhs<br><b>Total Properties:<\/b> 6221","<b>City:<\/b> Bangalore<br><b>Avg Price:<\/b> 258.46 Lakhs<br><b>Total Properties:<\/b> 4144","<b>City:<\/b> Bhopal<br><b>Avg Price:<\/b> 256.5 Lakhs<br><b>Total Properties:<\/b> 6284","<b>City:<\/b> Bhubaneswar<br><b>Avg Price:<\/b> 254.9 Lakhs<br><b>Total Properties:<\/b> 6323","<b>City:<\/b> Bilaspur<br><b>Avg Price:<\/b> 251.88 Lakhs<br><b>Total Properties:<\/b> 6263","<b>City:<\/b> Chennai<br><b>Avg Price:<\/b> 256.83 Lakhs<br><b>Total Properties:<\/b> 6168","<b>City:<\/b> Coimbatore<br><b>Avg Price:<\/b> 256.5 Lakhs<br><b>Total Properties:<\/b> 6461","<b>City:<\/b> Cuttack<br><b>Avg Price:<\/b> 250.79 Lakhs<br><b>Total Properties:<\/b> 6358","<b>City:<\/b> Dehradun<br><b>Avg Price:<\/b> 256.89 Lakhs<br><b>Total Properties:<\/b> 6234","<b>City:<\/b> Durgapur<br><b>Avg Price:<\/b> 254.1 Lakhs<br><b>Total Properties:<\/b> 6387","<b>City:<\/b> Dwarka<br><b>Avg Price:<\/b> 253.45 Lakhs<br><b>Total Properties:<\/b> 6246","<b>City:<\/b> Faridabad<br><b>Avg Price:<\/b> 254.86 Lakhs<br><b>Total Properties:<\/b> 6169","<b>City:<\/b> Gaya<br><b>Avg Price:<\/b> 257.05 Lakhs<br><b>Total Properties:<\/b> 6170","<b>City:<\/b> Gurgaon<br><b>Avg Price:<\/b> 254.03 Lakhs<br><b>Total Properties:<\/b> 6145","<b>City:<\/b> Guwahati<br><b>Avg Price:<\/b> 252.99 Lakhs<br><b>Total Properties:<\/b> 6092","<b>City:<\/b> Haridwar<br><b>Avg Price:<\/b> 252.48 Lakhs<br><b>Total Properties:<\/b> 6267","<b>City:<\/b> Hyderabad<br><b>Avg Price:<\/b> 256.59 Lakhs<br><b>Total Properties:<\/b> 6273","<b>City:<\/b> Indore<br><b>Avg Price:<\/b> 255.41 Lakhs<br><b>Total Properties:<\/b> 6167","<b>City:<\/b> Jaipur<br><b>Avg Price:<\/b> 255.25 Lakhs<br><b>Total Properties:<\/b> 6231","<b>City:<\/b> Jamshedpur<br><b>Avg Price:<\/b> 252.63 Lakhs<br><b>Total Properties:<\/b> 6335","<b>City:<\/b> Jodhpur<br><b>Avg Price:<\/b> 253.95 Lakhs<br><b>Total Properties:<\/b> 6171","<b>City:<\/b> Kochi<br><b>Avg Price:<\/b> 257.42 Lakhs<br><b>Total Properties:<\/b> 6305","<b>City:<\/b> Kolkata<br><b>Avg Price:<\/b> 253.91 Lakhs<br><b>Total Properties:<\/b> 6235","<b>City:<\/b> Lucknow<br><b>Avg Price:<\/b> 256.21 Lakhs<br><b>Total Properties:<\/b> 6237","<b>City:<\/b> Ludhiana<br><b>Avg Price:<\/b> 253.16 Lakhs<br><b>Total Properties:<\/b> 6295","<b>City:<\/b> Mangalore<br><b>Avg Price:<\/b> 256.92 Lakhs<br><b>Total Properties:<\/b> 4063","<b>City:<\/b> Mumbai<br><b>Avg Price:<\/b> 252.06 Lakhs<br><b>Total Properties:<\/b> 4149","<b>City:<\/b> Mysore<br><b>Avg Price:<\/b> 256.85 Lakhs<br><b>Total Properties:<\/b> 4217","<b>City:<\/b> Nagpur<br><b>Avg Price:<\/b> 255.53 Lakhs<br><b>Total Properties:<\/b> 4160","<b>City:<\/b> New Delhi<br><b>Avg Price:<\/b> 251.61 Lakhs<br><b>Total Properties:<\/b> 6306","<b>City:<\/b> Noida<br><b>Avg Price:<\/b> 256.29 Lakhs<br><b>Total Properties:<\/b> 6271","<b>City:<\/b> Patna<br><b>Avg Price:<\/b> 252.79 Lakhs<br><b>Total Properties:<\/b> 6199","<b>City:<\/b> Pune<br><b>Avg Price:<\/b> 256.5 Lakhs<br><b>Total Properties:<\/b> 4224","<b>City:<\/b> Raipur<br><b>Avg Price:<\/b> 253.48 Lakhs<br><b>Total Properties:<\/b> 6193","<b>City:<\/b> Ranchi<br><b>Avg Price:<\/b> 254.62 Lakhs<br><b>Total Properties:<\/b> 6145","<b>City:<\/b> Silchar<br><b>Avg Price:<\/b> 252.58 Lakhs<br><b>Total Properties:<\/b> 6404","<b>City:<\/b> Surat<br><b>Avg Price:<\/b> 258.08 Lakhs<br><b>Total Properties:<\/b> 6167","<b>City:<\/b> Trivandrum<br><b>Avg Price:<\/b> 251.26 Lakhs<br><b>Total Properties:<\/b> 6182","<b>City:<\/b> Vijayawada<br><b>Avg Price:<\/b> 254.64 Lakhs<br><b>Total Properties:<\/b> 6344","<b>City:<\/b> Vishakhapatnam<br><b>Avg Price:<\/b> 255.77 Lakhs<br><b>Total Properties:<\/b> 6118","<b>City:<\/b> Warangal<br><b>Avg Price:<\/b> 254.48 Lakhs<br><b>Total Properties:<\/b> 6266"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#006837 , #06753E 2.78134314796458%, #4CAD5B 15.8192095640243%, #9FD669 28.8570759800841%, #E0F295 41.8949423961439%, #FFF0A5 54.9328088122036%, #FEB869 67.9706752282634%, #F16840 81.0085416443232%, #C32127 94.0464080603829%, #A50026 "],"labels":["251","252","253","254","255","256","257","258"],"na_color":null,"na_label":"NA","opacity":0.7,"position":"bottomright","type":"numeric","title":"Avg House Price (Lakhs)","extra":{"p_1":0.02781343147964576,"p_n":0.9404640806038294},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[8.4882267,31.6356659],"lng":[72.58005679999999,92.79714800000001]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average price per city</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>city_summary <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(City) <span class="sc">%&gt;%</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Median_Price_Lakhs =</span> <span class="fu">median</span>(Price_in_Lakhs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Price_Lakhs =</span> <span class="fu">mean</span>(Price_in_Lakhs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Property_Count =</span> <span class="fu">n</span>(),</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate percentages for each direction</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Pct_North =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Facing <span class="sc">==</span> <span class="st">"North"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Pct_South =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Facing <span class="sc">==</span> <span class="st">"South"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Pct_East  =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Facing <span class="sc">==</span> <span class="st">"East"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Pct_West  =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Facing <span class="sc">==</span> <span class="st">"West"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)</span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>city_geo<span class="sc">$</span>Median_Price_Lakhs <span class="ot">=</span> city_summary<span class="sc">$</span>Median_Price_Lakhs</span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a>city_geo <span class="ot">&lt;-</span> city_geo <span class="sc">%&gt;%</span></span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(City, latitude, longitude,) <span class="sc">%&gt;%</span> <span class="co"># Keep only geo columns from the old city_geo</span></span>
<span id="cb84-18"><a href="#cb84-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(city_summary, <span class="at">by =</span> <span class="st">"City"</span>)</span>
<span id="cb84-19"><a href="#cb84-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-20"><a href="#cb84-20" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating interactive Map</span></span>
<span id="cb84-21"><a href="#cb84-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb84-22"><a href="#cb84-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-23"><a href="#cb84-23" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">colorNumeric</span>(</span>
<span id="cb84-24"><a href="#cb84-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="st">"RdYlGn"</span>,</span>
<span id="cb84-25"><a href="#cb84-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">domain =</span> city_geo<span class="sc">$</span>Median_Price_Lakhs,</span>
<span id="cb84-26"><a href="#cb84-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">reverse =</span> <span class="cn">TRUE</span></span>
<span id="cb84-27"><a href="#cb84-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb84-28"><a href="#cb84-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-29"><a href="#cb84-29" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(city_geo) <span class="sc">%&gt;%</span></span>
<span id="cb84-30"><a href="#cb84-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb84-31"><a href="#cb84-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(</span>
<span id="cb84-32"><a href="#cb84-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> <span class="sc">~</span>longitude, </span>
<span id="cb84-33"><a href="#cb84-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="sc">~</span>latitude,</span>
<span id="cb84-34"><a href="#cb84-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">5</span>,</span>
<span id="cb84-35"><a href="#cb84-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">1</span>,</span>
<span id="cb84-36"><a href="#cb84-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity =</span> <span class="fl">0.8</span>,</span>
<span id="cb84-37"><a href="#cb84-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply the color palette based on the price</span></span>
<span id="cb84-38"><a href="#cb84-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb84-39"><a href="#cb84-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor =</span> <span class="sc">~</span><span class="fu">pal</span>(Median_Price_Lakhs),</span>
<span id="cb84-40"><a href="#cb84-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">"&lt;b&gt;City:&lt;/b&gt; "</span>, City, </span>
<span id="cb84-41"><a href="#cb84-41" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"&lt;br&gt;&lt;b&gt;Median Price:&lt;/b&gt; "</span>, <span class="fu">round</span>(Median_Price_Lakhs, <span class="dv">2</span>), </span>
<span id="cb84-42"><a href="#cb84-42" aria-hidden="true" tabindex="-1"></a>                    <span class="st">" Lakhs"</span>,<span class="st">"&lt;br&gt;&lt;b&gt;Total Properties:&lt;/b&gt; "</span>, Property_Count,</span>
<span id="cb84-43"><a href="#cb84-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;hr style='margin: 5px 0;'&gt;"</span>, <span class="co"># Add a small horizontal line</span></span>
<span id="cb84-44"><a href="#cb84-44" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;Facing Distribution:&lt;/b&gt;&lt;br&gt;"</span>,</span>
<span id="cb84-45"><a href="#cb84-45" aria-hidden="true" tabindex="-1"></a>      <span class="st">"North: "</span>, Pct_North, <span class="st">"% | South: "</span>, Pct_South, <span class="st">"%&lt;br&gt;"</span>,</span>
<span id="cb84-46"><a href="#cb84-46" aria-hidden="true" tabindex="-1"></a>      <span class="st">"East: "</span>, Pct_East, <span class="st">"% | West: "</span>, Pct_West, <span class="st">"%"</span>),</span>
<span id="cb84-47"><a href="#cb84-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">clusterOptions =</span> <span class="fu">markerClusterOptions</span>()</span>
<span id="cb84-48"><a href="#cb84-48" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb84-49"><a href="#cb84-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a legend to make the colors clear</span></span>
<span id="cb84-50"><a href="#cb84-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(</span>
<span id="cb84-51"><a href="#cb84-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">pal =</span> pal, </span>
<span id="cb84-52"><a href="#cb84-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="sc">~</span>Median_Price_Lakhs, </span>
<span id="cb84-53"><a href="#cb84-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="fl">0.7</span>, </span>
<span id="cb84-54"><a href="#cb84-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Median House Price (Lakhs)"</span>,</span>
<span id="cb84-55"><a href="#cb84-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"bottomright"</span></span>
<span id="cb84-56"><a href="#cb84-56" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-38a087a447935de92eea" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-38a087a447935de92eea">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[23.0215374,31.6356659,12.9767936,23.2584857,20.2602964,31.3380959,13.0836939,11.0018115,20.4686,30.3255646,23.5350475,28.5823,28.4031478,24.7964355,28.4646148,26.1805978,29.9384473,17.360589,22.7203616,26.9154576,22.8015194,26.2967719,9.9679032,22.5726459,26.8381,30.9090157,12.8698101,19.054999,12.3051828,21.1498134,28.6138954,28.5706333,25.6093239,18.5213738,21.2380912,23.3700501,24.829588,21.2094892,8.4882267,16.5115306,17.6868,17.9820644],[72.58005679999999,74.87874960000001,77.590082,77.401989,85.8394521,76.7611631,80.270186,76.96284249999999,85.8792,78.0436813,87.3380425,77.05,77.3105561,85.0079563,77.0299194,91.75394300000001,78.1452985,78.4740613,75.8681996,75.81898169999999,86.2029579,73.0351433,76.2444378,88.3638953,80.9346001,75.851601,74.8430082,72.8692035,76.65536090000001,79.0820556,77.20900570000001,77.3272147,85.1235252,73.85450710000001,81.6336993,85.32503869999999,92.79714800000001,72.83170579999999,76.947551,80.6160469,83.21850000000001,79.5970954],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"white","weight":1,"opacity":0.5,"fill":true,"fillColor":["#FEC473","#B2DE72","#D73027","#DA392A","#E5F49C","#A2D769","#F77F4A","#FEBE6E","#05713C","#F67847","#A9DA6C","#81C866","#FEC978","#F46E43","#FFEEA2","#B0DD71","#A4D86A","#F8864E","#CCEA83","#AFDD70","#A8DA6B","#D4ED88","#C62327","#69BE63","#DF442F","#34A155","#FA9555","#17924D","#A50026","#FED17E","#44AA59","#FA9555","#006837","#BE1D27","#FDFEBC","#ACDC6E","#A6D96A","#DA392A","#19954F","#FEC272","#FEBC6C","#EEF8A7"],"fillOpacity":0.8},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,["<b>City:<\/b> Ahmedabad<br><b>Median Price:<\/b> 255.56 Lakhs<br><b>Total Properties:<\/b> 6411<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.6% | South: 24.7%<br>East: 24.6% | West: 26.1%","<b>City:<\/b> Amritsar<br><b>Median Price:<\/b> 251.71 Lakhs<br><b>Total Properties:<\/b> 6221<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.2% | South: 24%<br>East: 24.9% | West: 25.9%","<b>City:<\/b> Bangalore<br><b>Median Price:<\/b> 258.36 Lakhs<br><b>Total Properties:<\/b> 4144<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.6% | South: 25.4%<br>East: 24.7% | West: 24.2%","<b>City:<\/b> Bhopal<br><b>Median Price:<\/b> 258.23 Lakhs<br><b>Total Properties:<\/b> 6284<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.9% | South: 25.3%<br>East: 24.8% | West: 25%","<b>City:<\/b> Bhubaneswar<br><b>Median Price:<\/b> 252.96 Lakhs<br><b>Total Properties:<\/b> 6323<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25% | South: 24.9%<br>East: 24.6% | West: 25.5%","<b>City:<\/b> Bilaspur<br><b>Median Price:<\/b> 251.35 Lakhs<br><b>Total Properties:<\/b> 6263<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.8% | South: 24.4%<br>East: 24% | West: 25.8%","<b>City:<\/b> Chennai<br><b>Median Price:<\/b> 256.91 Lakhs<br><b>Total Properties:<\/b> 6168<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.4% | South: 24%<br>East: 25.1% | West: 25.5%","<b>City:<\/b> Coimbatore<br><b>Median Price:<\/b> 255.68 Lakhs<br><b>Total Properties:<\/b> 6461<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.8% | South: 26%<br>East: 23.6% | West: 25.6%","<b>City:<\/b> Cuttack<br><b>Median Price:<\/b> 248.21 Lakhs<br><b>Total Properties:<\/b> 6358<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24% | South: 25.6%<br>East: 25% | West: 25.4%","<b>City:<\/b> Dehradun<br><b>Median Price:<\/b> 257.03 Lakhs<br><b>Total Properties:<\/b> 6234<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.5% | South: 25.5%<br>East: 24.1% | West: 25.8%","<b>City:<\/b> Durgapur<br><b>Median Price:<\/b> 251.51 Lakhs<br><b>Total Properties:<\/b> 6387<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.3% | South: 25.8%<br>East: 25.2% | West: 23.6%","<b>City:<\/b> Dwarka<br><b>Median Price:<\/b> 250.74 Lakhs<br><b>Total Properties:<\/b> 6246<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.4% | South: 25.4%<br>East: 24.9% | West: 24.3%","<b>City:<\/b> Faridabad<br><b>Median Price:<\/b> 255.43 Lakhs<br><b>Total Properties:<\/b> 6169<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24% | South: 24.6%<br>East: 26% | West: 25.3%","<b>City:<\/b> Gaya<br><b>Median Price:<\/b> 257.2 Lakhs<br><b>Total Properties:<\/b> 6170<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.5% | South: 25%<br>East: 25.7% | West: 23.8%","<b>City:<\/b> Gurgaon<br><b>Median Price:<\/b> 254.38 Lakhs<br><b>Total Properties:<\/b> 6145<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.6% | South: 24.8%<br>East: 25% | West: 25.6%","<b>City:<\/b> Guwahati<br><b>Median Price:<\/b> 251.66 Lakhs<br><b>Total Properties:<\/b> 6092<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.3% | South: 24.9%<br>East: 24.7% | West: 25.1%","<b>City:<\/b> Haridwar<br><b>Median Price:<\/b> 251.4 Lakhs<br><b>Total Properties:<\/b> 6267<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25% | South: 25.1%<br>East: 24.8% | West: 25.1%","<b>City:<\/b> Hyderabad<br><b>Median Price:<\/b> 256.78 Lakhs<br><b>Total Properties:<\/b> 6273<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.6% | South: 25.2%<br>East: 25.2% | West: 25%","<b>City:<\/b> Indore<br><b>Median Price:<\/b> 252.3 Lakhs<br><b>Total Properties:<\/b> 6167<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.4% | South: 25.2%<br>East: 23.7% | West: 25.7%","<b>City:<\/b> Jaipur<br><b>Median Price:<\/b> 251.63 Lakhs<br><b>Total Properties:<\/b> 6231<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.4% | South: 24.6%<br>East: 24.6% | West: 25.5%","<b>City:<\/b> Jamshedpur<br><b>Median Price:<\/b> 251.48 Lakhs<br><b>Total Properties:<\/b> 6335<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.3% | South: 24.1%<br>East: 25.2% | West: 25.4%","<b>City:<\/b> Jodhpur<br><b>Median Price:<\/b> 252.48 Lakhs<br><b>Total Properties:<\/b> 6171<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25% | South: 25%<br>East: 25.3% | West: 24.7%","<b>City:<\/b> Kochi<br><b>Median Price:<\/b> 258.75 Lakhs<br><b>Total Properties:<\/b> 6305<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.2% | South: 25.4%<br>East: 24.8% | West: 25.7%","<b>City:<\/b> Kolkata<br><b>Median Price:<\/b> 250.33 Lakhs<br><b>Total Properties:<\/b> 6235<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.5% | South: 25.4%<br>East: 24.8% | West: 24.3%","<b>City:<\/b> Lucknow<br><b>Median Price:<\/b> 258.04 Lakhs<br><b>Total Properties:<\/b> 6237<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.7% | South: 24.1%<br>East: 25.2% | West: 25%","<b>City:<\/b> Ludhiana<br><b>Median Price:<\/b> 249.42 Lakhs<br><b>Total Properties:<\/b> 6295<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.9% | South: 24.8%<br>East: 24.1% | West: 26.1%","<b>City:<\/b> Mangalore<br><b>Median Price:<\/b> 256.52 Lakhs<br><b>Total Properties:<\/b> 4063<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.2% | South: 24.9%<br>East: 24.8% | West: 25.1%","<b>City:<\/b> Mumbai<br><b>Median Price:<\/b> 248.99 Lakhs<br><b>Total Properties:<\/b> 4149<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.8% | South: 24.6%<br>East: 26.2% | West: 24.3%","<b>City:<\/b> Mysore<br><b>Median Price:<\/b> 259.52 Lakhs<br><b>Total Properties:<\/b> 4217<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.4% | South: 24.9%<br>East: 24.7% | West: 26%","<b>City:<\/b> Nagpur<br><b>Median Price:<\/b> 255.26 Lakhs<br><b>Total Properties:<\/b> 4160<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.8% | South: 24.5%<br>East: 24.6% | West: 26.1%","<b>City:<\/b> New Delhi<br><b>Median Price:<\/b> 249.68 Lakhs<br><b>Total Properties:<\/b> 6306<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.2% | South: 25.2%<br>East: 24.8% | West: 24.8%","<b>City:<\/b> Noida<br><b>Median Price:<\/b> 256.52 Lakhs<br><b>Total Properties:<\/b> 6271<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.1% | South: 24.9%<br>East: 24.6% | West: 25.4%","<b>City:<\/b> Patna<br><b>Median Price:<\/b> 247.97 Lakhs<br><b>Total Properties:<\/b> 6199<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.8% | South: 24.9%<br>East: 24.9% | West: 25.5%","<b>City:<\/b> Pune<br><b>Median Price:<\/b> 258.93 Lakhs<br><b>Total Properties:<\/b> 4224<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.6% | South: 24.7%<br>East: 25.8% | West: 23.9%","<b>City:<\/b> Raipur<br><b>Median Price:<\/b> 253.68 Lakhs<br><b>Total Properties:<\/b> 6193<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.4% | South: 24.3%<br>East: 24.9% | West: 25.4%","<b>City:<\/b> Ranchi<br><b>Median Price:<\/b> 251.58 Lakhs<br><b>Total Properties:<\/b> 6145<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.5% | South: 24.8%<br>East: 24.9% | West: 24.8%","<b>City:<\/b> Silchar<br><b>Median Price:<\/b> 251.44 Lakhs<br><b>Total Properties:<\/b> 6404<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 26.2% | South: 25.2%<br>East: 24.8% | West: 23.8%","<b>City:<\/b> Surat<br><b>Median Price:<\/b> 258.23 Lakhs<br><b>Total Properties:<\/b> 6167<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.1% | South: 24.7%<br>East: 25.4% | West: 24.8%","<b>City:<\/b> Trivandrum<br><b>Median Price:<\/b> 249.06 Lakhs<br><b>Total Properties:<\/b> 6182<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.5% | South: 26.1%<br>East: 24.8% | West: 24.6%","<b>City:<\/b> Vijayawada<br><b>Median Price:<\/b> 255.58 Lakhs<br><b>Total Properties:<\/b> 6344<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 24.6% | South: 25.2%<br>East: 25.7% | West: 24.6%","<b>City:<\/b> Vishakhapatnam<br><b>Median Price:<\/b> 255.74 Lakhs<br><b>Total Properties:<\/b> 6118<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.3% | South: 24.7%<br>East: 25.4% | West: 24.7%","<b>City:<\/b> Warangal<br><b>Median Price:<\/b> 253.22 Lakhs<br><b>Total Properties:<\/b> 6266<hr style='margin: 5px 0;'><b>Facing Distribution:<\/b><br>North: 25.2% | South: 24.3%<br>East: 25.6% | West: 24.9%"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#006837 , #016938 0.25974025974027%, #57B45E 17.5757575757576%, #BFE47A 34.891774891775%, #FFF8B3 52.2077922077923%, #FDB063 69.5238095238096%, #E04630 86.839826839827%, #A50026 "],"labels":["248","250","252","254","256","258"],"na_color":null,"na_label":"NA","opacity":0.7,"position":"bottomright","type":"numeric","title":"Median House Price (Lakhs)","extra":{"p_1":0.0025974025974027,"p_n":0.8683982683982697},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[8.4882267,31.6356659],"lng":[72.58005679999999,92.79714800000001]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Zone Wise Data</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>dt_zoned <span class="ot">&lt;-</span> dt <span class="sc">%&gt;%</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Zone =</span> <span class="fu">case_when</span>(</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>    City <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"New Delhi"</span>, <span class="st">"Ludhiana"</span>, <span class="st">"Jaipur"</span>, <span class="st">"Jodhpur"</span>, <span class="st">"Lucknow"</span>, </span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Dehradun"</span>, <span class="st">"Noida"</span>, <span class="st">"Faridabad"</span>, <span class="st">"Amritsar"</span>, <span class="st">"Haridwar"</span>, </span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Gurgaon"</span>,<span class="st">"Dwarka"</span>) <span class="sc">~</span> <span class="st">"North"</span>,</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>    City <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Chennai"</span>, <span class="st">"Coimbatore"</span>, <span class="st">"Bangalore"</span>, <span class="st">"Warangal"</span>, <span class="st">"Hyderabad"</span>, </span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Vishakhapatnam"</span>, <span class="st">"Mysore"</span>, <span class="st">"Vijayawada"</span>, <span class="st">"Trivandrum"</span>, </span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Kochi"</span>, <span class="st">"Mangalore"</span>) <span class="sc">~</span> <span class="st">"South"</span>,</span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>    City <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mumbai"</span>, <span class="st">"Pune"</span>, <span class="st">"Nagpur"</span>, <span class="st">"Ahmedabad"</span>, <span class="st">"Surat"</span>) <span class="sc">~</span> <span class="st">"West"</span>,</span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>    City <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Kolkata"</span>, <span class="st">"Ranchi"</span>, <span class="st">"Durgapur"</span>, <span class="st">"Gaya"</span>, <span class="st">"Jamshedpur"</span>, </span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Patna"</span>, <span class="st">"Cuttack"</span>, <span class="st">"Bhubaneswar"</span>) <span class="sc">~</span> <span class="st">"East"</span>,</span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a>    City <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Bhopal"</span>, <span class="st">"Indore"</span>, <span class="st">"Raipur"</span>, <span class="st">"Bilaspur"</span>) <span class="sc">~</span> <span class="st">"Central"</span>,</span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a>    City <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Guwahati"</span>, <span class="st">"Silchar"</span>) <span class="sc">~</span> <span class="st">"Northeast"</span>,</span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a>zone_summary <span class="ot">&lt;-</span> dt_zoned <span class="sc">%&gt;%</span></span>
<span id="cb85-28"><a href="#cb85-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Zone) <span class="sc">%&gt;%</span></span>
<span id="cb85-29"><a href="#cb85-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb85-30"><a href="#cb85-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">Median_Price_Lakhs =</span> <span class="fu">median</span>(Price_in_Lakhs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-31"><a href="#cb85-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">House_Count =</span> <span class="fu">n</span>()</span>
<span id="cb85-32"><a href="#cb85-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb85-33"><a href="#cb85-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Median_Price_Lakhs))</span>
<span id="cb85-34"><a href="#cb85-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-35"><a href="#cb85-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-36"><a href="#cb85-36" aria-hidden="true" tabindex="-1"></a>bp <span class="ot">=</span> <span class="fu">barplot</span>(zone_summary<span class="sc">$</span>Median_Price_Lakhs, </span>
<span id="cb85-37"><a href="#cb85-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> zone_summary<span class="sc">$</span>Zone, </span>
<span id="cb85-38"><a href="#cb85-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="st">"darkorange"</span>,</span>
<span id="cb85-39"><a href="#cb85-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">"Median House Price by Indian Zone"</span>,</span>
<span id="cb85-40"><a href="#cb85-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">"Price (in Lakhs)"</span>,</span>
<span id="cb85-41"><a href="#cb85-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb85-42"><a href="#cb85-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(zone_summary<span class="sc">$</span>Median_Price_Lakhs) <span class="sc">*</span> <span class="fl">1.2</span>))</span>
<span id="cb85-43"><a href="#cb85-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-44"><a href="#cb85-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-45"><a href="#cb85-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-46"><a href="#cb85-46" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x =</span> bp, </span>
<span id="cb85-47"><a href="#cb85-47" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> zone_summary<span class="sc">$</span>Median_Price_Lakhs, </span>
<span id="cb85-48"><a href="#cb85-48" aria-hidden="true" tabindex="-1"></a>     <span class="at">labels =</span> <span class="fu">round</span>(zone_summary<span class="sc">$</span>Median_Price_Lakhs, <span class="dv">2</span>), </span>
<span id="cb85-49"><a href="#cb85-49" aria-hidden="true" tabindex="-1"></a>     <span class="at">pos =</span> <span class="dv">3</span>,         </span>
<span id="cb85-50"><a href="#cb85-50" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="fl">0.9</span>,       </span>
<span id="cb85-51"><a href="#cb85-51" aria-hidden="true" tabindex="-1"></a>     <span class="at">font =</span> <span class="dv">2</span>,        </span>
<span id="cb85-52"><a href="#cb85-52" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="schools" class="level3">
<h3 class="anchored" data-anchor-id="schools">Schools</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(dt_expanded<span class="sc">$</span>Price_in_Lakhs, dt_expanded<span class="sc">$</span>Nearby_Schools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0001549054</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(dt_expanded<span class="sc">$</span>Price_in_Lakhs, dt_expanded<span class="sc">$</span>Nearby_Hospitals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.002769148</code></pre>
</div>
</div>
</section>
</section>
<section id="still-working" class="level2">
<h2 class="anchored" data-anchor-id="still-working">Still Working…</h2>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>